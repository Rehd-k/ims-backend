'use strict';const a4_0x3320a9=a4_0x45fb;(function(_0x10991c,_0x40f98f){const _0x497348=a4_0x45fb,_0x2eaacf=_0x10991c();while(!![]){try{const _0x267cdc=-parseInt(_0x497348(0x1d2))/0x1*(parseInt(_0x497348(0x1c6))/0x2)+parseInt(_0x497348(0x1bf))/0x3+parseInt(_0x497348(0x1ce))/0x4*(parseInt(_0x497348(0x1b3))/0x5)+-parseInt(_0x497348(0x1bc))/0x6*(-parseInt(_0x497348(0x1d0))/0x7)+parseInt(_0x497348(0x1d6))/0x8+parseInt(_0x497348(0x1da))/0x9+-parseInt(_0x497348(0x1d8))/0xa*(parseInt(_0x497348(0x1c8))/0xb);if(_0x267cdc===_0x40f98f)break;else _0x2eaacf['push'](_0x2eaacf['shift']());}catch(_0x2eb8d8){_0x2eaacf['push'](_0x2eaacf['shift']());}}}(a4_0x59df,0x1a43e));var __decorate=this&&this[a4_0x3320a9(0x1c4)]||function(_0x24efda,_0x44bff2,_0x3466d9,_0x5c6cd0){const _0x453b24=a4_0x3320a9,_0x33e2cc={'kIozs':function(_0xf79b2,_0xd0ee33){return _0xf79b2<_0xd0ee33;},'Tbjku':'object','plOHB':function(_0xfc3ea8,_0x571a71,_0x3a949d,_0x4a5cd8){return _0xfc3ea8(_0x571a71,_0x3a949d,_0x4a5cd8);}};var _0x168088=arguments[_0x453b24(0x1ea)],_0x22f0cb=_0x33e2cc[_0x453b24(0x1d5)](_0x168088,0x3)?_0x44bff2:_0x5c6cd0===null?_0x5c6cd0=Object[_0x453b24(0x1dc)](_0x44bff2,_0x3466d9):_0x5c6cd0,_0x1552d2;if(typeof Reflect===_0x33e2cc['Tbjku']&&typeof Reflect[_0x453b24(0x1e4)]===_0x453b24(0x1b6))_0x22f0cb=Reflect['decorate'](_0x24efda,_0x44bff2,_0x3466d9,_0x5c6cd0);else{for(var _0x320a6d=_0x24efda['length']-0x1;_0x320a6d>=0x0;_0x320a6d--)if(_0x1552d2=_0x24efda[_0x320a6d])_0x22f0cb=(_0x168088<0x3?_0x1552d2(_0x22f0cb):_0x168088>0x3?_0x33e2cc['plOHB'](_0x1552d2,_0x44bff2,_0x3466d9,_0x22f0cb):_0x1552d2(_0x44bff2,_0x3466d9))||_0x22f0cb;}return _0x168088>0x3&&_0x22f0cb&&Object[_0x453b24(0x1e7)](_0x44bff2,_0x3466d9,_0x22f0cb),_0x22f0cb;},__metadata=this&&this[a4_0x3320a9(0x1e2)]||function(_0x4116b8,_0x345bf1){const _0x388185=a4_0x3320a9,_0xd9e6b={'XVJEP':'function'};if(typeof Reflect===_0x388185(0x1df)&&typeof Reflect[_0x388185(0x1c7)]===_0xd9e6b[_0x388185(0x1cd)])return Reflect['metadata'](_0x4116b8,_0x345bf1);},__param=this&&this[a4_0x3320a9(0x1d3)]||function(_0x3c57c7,_0x393969){return function(_0x1b57dc,_0x572dac){_0x393969(_0x1b57dc,_0x572dac,_0x3c57c7);};};function a4_0x45fb(_0x1cc097,_0x419fdc){const _0x59df10=a4_0x59df();return a4_0x45fb=function(_0x45fb22,_0x5f5aca){_0x45fb22=_0x45fb22-0x1b3;let _0x20e7b2=_0x59df10[_0x45fb22];return _0x20e7b2;},a4_0x45fb(_0x1cc097,_0x419fdc);}Object[a4_0x3320a9(0x1e7)](exports,a4_0x3320a9(0x1ef),{'value':!![]}),exports['AnalyticsController']=void 0x0;function a4_0x59df(){const _0x2f4d4b=['183320oCJFhU','design:returntype','1916910pVEccU','WeeklySalesData','getOwnPropertyDescriptor','/inventory-summary','Query','object','analyticsService','getProfitAndLoss','__metadata','getTopSellingProducts','decorate','/inventory-reports','Get','defineProperty','getRevenueReports','GetSalesData','length','design:type','design:paramtypes','@nestjs/common','RolesGuard','__esModule','142085tptLMA','Admin','/profit-and-loss','function','prototype','Roles','../product/query.dto','getInventoryReports','QueryDto','1193766BZFyVB','/get-sales-chart','/revenue-reports','240303iCUEMM','getWeeklySalesData','JwtAuthGuard','God','getSalesDashboard','__decorate','Req','278zzXeAC','metadata','341FzmRMc','Controller','getBestSellingProducts','getCustomerStatistics','../auth/jwt-auth.guard','XVJEP','12mPkJrV','Role','7gLTHjH','/sales-data','178TBGIbk','__param','AnalyticsController','kIozs','986504JlnoSf','customerSummary'];a4_0x59df=function(){return _0x2f4d4b;};return a4_0x59df();}const common_1=require(a4_0x3320a9(0x1ed)),analytics_service_1=require('./analytics.service'),jwt_auth_guard_1=require(a4_0x3320a9(0x1cc)),roles_guard_1=require('../helpers/role/roles.guard'),roles_decorator_1=require('../helpers/role/roles.decorator'),enums_1=require('../helpers/enums'),query_dto_1=require(a4_0x3320a9(0x1b9));let AnalyticsController=class AnalyticsController{constructor(_0x12f956){this['analyticsService']=_0x12f956;}async[a4_0x3320a9(0x1c3)](_0x53b1f7){const _0x68e061=a4_0x3320a9;return this['analyticsService'][_0x68e061(0x1c3)](_0x53b1f7);}async[a4_0x3320a9(0x1e8)](_0xa375d1){const _0x209a8f=a4_0x3320a9;return this[_0x209a8f(0x1e0)]['getRevenueReports'](_0xa375d1);}async['getInventoryReports'](_0x5e7641){return this['analyticsService']['getInventoryReports'](_0x5e7641);}async['getProfitAndLoss'](_0x1d9960,_0x2bfcbd){const _0xb8f1e8=a4_0x3320a9;return this[_0xb8f1e8(0x1e0)]['getProfitAndLoss'](_0x1d9960,_0x2bfcbd);}async['getBestSellingProducts'](_0x3cac0c){const _0x5bfcfa=a4_0x3320a9;return this[_0x5bfcfa(0x1e0)][_0x5bfcfa(0x1e3)](_0x3cac0c);}async['inventorySummary'](_0x54d1fb){const _0x3b0d71=a4_0x3320a9;return this[_0x3b0d71(0x1e0)]['getProductStatistics'](_0x54d1fb);}async[a4_0x3320a9(0x1d7)](_0x39db7b){const _0x48cfd9=a4_0x3320a9;return this[_0x48cfd9(0x1e0)][_0x48cfd9(0x1cb)](_0x39db7b);}async[a4_0x3320a9(0x1db)](_0x261ed7){const _0x5871a2=a4_0x3320a9,_0x5c480f=await this['analyticsService'][_0x5871a2(0x1c0)](_0x261ed7);return _0x5c480f;}async[a4_0x3320a9(0x1e9)](_0x18ff1c,_0x2f7c58){const _0x1e1abd=await this['analyticsService']['getSalesData'](_0x18ff1c['filter'],_0x2f7c58);return _0x1e1abd;}};exports['AnalyticsController']=AnalyticsController,__decorate([(0x0,roles_decorator_1[a4_0x3320a9(0x1b8)])(enums_1[a4_0x3320a9(0x1cf)]['God'],enums_1[a4_0x3320a9(0x1cf)][a4_0x3320a9(0x1b4)]),(0x0,common_1[a4_0x3320a9(0x1e6)])('/sales-dashboard'),__param(0x0,(0x0,common_1[a4_0x3320a9(0x1c5)])()),__metadata('design:type',Function),__metadata(a4_0x3320a9(0x1ec),[Object]),__metadata('design:returntype',Promise)],AnalyticsController[a4_0x3320a9(0x1b7)],a4_0x3320a9(0x1c3),null),__decorate([(0x0,roles_decorator_1['Roles'])(enums_1[a4_0x3320a9(0x1cf)]['God'],enums_1[a4_0x3320a9(0x1cf)]['Admin']),(0x0,common_1['Get'])(a4_0x3320a9(0x1be)),__param(0x0,(0x0,common_1['Req'])()),__metadata('design:type',Function),__metadata(a4_0x3320a9(0x1ec),[Object]),__metadata('design:returntype',Promise)],AnalyticsController['prototype'],a4_0x3320a9(0x1e8),null),__decorate([(0x0,roles_decorator_1[a4_0x3320a9(0x1b8)])(enums_1[a4_0x3320a9(0x1cf)][a4_0x3320a9(0x1c2)],enums_1['Role']['Admin']),(0x0,common_1['Get'])(a4_0x3320a9(0x1e5)),__param(0x0,(0x0,common_1['Req'])()),__metadata(a4_0x3320a9(0x1eb),Function),__metadata(a4_0x3320a9(0x1ec),[Object]),__metadata('design:returntype',Promise)],AnalyticsController['prototype'],a4_0x3320a9(0x1ba),null),__decorate([(0x0,roles_decorator_1[a4_0x3320a9(0x1b8)])(enums_1[a4_0x3320a9(0x1cf)][a4_0x3320a9(0x1c2)],enums_1['Role']['Admin']),(0x0,common_1[a4_0x3320a9(0x1e6)])(a4_0x3320a9(0x1b5)),__param(0x0,(0x0,common_1['Query'])()),__param(0x1,(0x0,common_1['Req'])()),__metadata(a4_0x3320a9(0x1eb),Function),__metadata(a4_0x3320a9(0x1ec),[query_dto_1[a4_0x3320a9(0x1bb)],Object]),__metadata('design:returntype',Promise)],AnalyticsController['prototype'],a4_0x3320a9(0x1e1),null),__decorate([(0x0,roles_decorator_1[a4_0x3320a9(0x1b8)])(enums_1['Role']['God'],enums_1['Role'][a4_0x3320a9(0x1b4)]),(0x0,common_1[a4_0x3320a9(0x1e6)])('/get-best-selling-products'),__param(0x0,(0x0,common_1['Req'])()),__metadata('design:type',Function),__metadata(a4_0x3320a9(0x1ec),[Object]),__metadata(a4_0x3320a9(0x1d9),Promise)],AnalyticsController['prototype'],a4_0x3320a9(0x1ca),null),__decorate([(0x0,roles_decorator_1['Roles'])(enums_1[a4_0x3320a9(0x1cf)]['God'],enums_1['Role'][a4_0x3320a9(0x1b4)]),(0x0,common_1[a4_0x3320a9(0x1e6)])(a4_0x3320a9(0x1dd)),__param(0x0,(0x0,common_1['Req'])()),__metadata(a4_0x3320a9(0x1eb),Function),__metadata('design:paramtypes',[Object]),__metadata(a4_0x3320a9(0x1d9),Promise)],AnalyticsController[a4_0x3320a9(0x1b7)],'inventorySummary',null),__decorate([(0x0,roles_decorator_1['Roles'])(enums_1[a4_0x3320a9(0x1cf)]['God'],enums_1[a4_0x3320a9(0x1cf)]['Admin']),(0x0,common_1[a4_0x3320a9(0x1e6)])('/customer-summary'),__param(0x0,(0x0,common_1[a4_0x3320a9(0x1c5)])()),__metadata('design:type',Function),__metadata(a4_0x3320a9(0x1ec),[Object]),__metadata(a4_0x3320a9(0x1d9),Promise)],AnalyticsController[a4_0x3320a9(0x1b7)],'customerSummary',null),__decorate([(0x0,roles_decorator_1['Roles'])(enums_1[a4_0x3320a9(0x1cf)][a4_0x3320a9(0x1c2)],enums_1[a4_0x3320a9(0x1cf)]['Admin']),(0x0,common_1[a4_0x3320a9(0x1e6)])(a4_0x3320a9(0x1d1)),__param(0x0,(0x0,common_1[a4_0x3320a9(0x1c5)])()),__metadata('design:type',Function),__metadata('design:paramtypes',[Object]),__metadata('design:returntype',Promise)],AnalyticsController[a4_0x3320a9(0x1b7)],a4_0x3320a9(0x1db),null),__decorate([(0x0,roles_decorator_1['Roles'])(enums_1[a4_0x3320a9(0x1cf)]['God'],enums_1[a4_0x3320a9(0x1cf)][a4_0x3320a9(0x1b4)]),(0x0,common_1[a4_0x3320a9(0x1e6)])(a4_0x3320a9(0x1bd)),__param(0x0,(0x0,common_1[a4_0x3320a9(0x1de)])()),__param(0x1,(0x0,common_1['Req'])()),__metadata('design:type',Function),__metadata('design:paramtypes',[query_dto_1['QueryDto'],Object]),__metadata(a4_0x3320a9(0x1d9),Promise)],AnalyticsController['prototype'],'GetSalesData',null),exports[a4_0x3320a9(0x1d4)]=AnalyticsController=__decorate([(0x0,common_1['UseGuards'])(jwt_auth_guard_1[a4_0x3320a9(0x1c1)],roles_guard_1[a4_0x3320a9(0x1ee)]),(0x0,common_1[a4_0x3320a9(0x1c9)])('analytics'),__metadata('design:paramtypes',[analytics_service_1['AnalyticsService']])],AnalyticsController);