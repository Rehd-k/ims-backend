'use strict';var a59_0x33d8d2=a59_0xf598;(function(_0x36a913,_0x34a291){var _0x4a042e=a59_0xf598,_0x3585c0=_0x36a913();while(!![]){try{var _0x10e378=-parseInt(_0x4a042e(0x1c6))/0x1*(parseInt(_0x4a042e(0x1bb))/0x2)+-parseInt(_0x4a042e(0x1c3))/0x3*(-parseInt(_0x4a042e(0x1c8))/0x4)+parseInt(_0x4a042e(0x1c5))/0x5*(-parseInt(_0x4a042e(0x1cd))/0x6)+parseInt(_0x4a042e(0x1d3))/0x7+-parseInt(_0x4a042e(0x1cc))/0x8*(-parseInt(_0x4a042e(0x1c1))/0x9)+-parseInt(_0x4a042e(0x1df))/0xa+parseInt(_0x4a042e(0x1d0))/0xb*(parseInt(_0x4a042e(0x1c2))/0xc);if(_0x10e378===_0x34a291)break;else _0x3585c0['push'](_0x3585c0['shift']());}catch(_0x3b4611){_0x3585c0['push'](_0x3585c0['shift']());}}}(a59_0x2dbe,0xf1ea6));function a59_0x2dbe(){var _0x37c0e3=['8294465AnrFpQ','4KUMxqc','NotificationsService','793108nluwHk','find','length','markAsRead','4040YsRjtg','6PXwPVD','createNotification','__param','11tRAJrg','notificationModel','@nestjs/mongoose','6564530OLgmHK','Notification','InjectModel','findByIdAndUpdate','object','metadata','user','save','name','./notification.schema','__esModule','getOwnPropertyDescriptor','13164950ETFibf','__decorate','decorate','@nestjs/common','338802YWZpCi','Model','getNotifications','sort','design:paramtypes','location','30717uiPrva','11893656Qtpgrj','15cUcYgG','function'];a59_0x2dbe=function(){return _0x37c0e3;};return a59_0x2dbe();}var __decorate=this&&this[a59_0x33d8d2(0x1b8)]||function(_0x439041,_0xc6da01,_0x13110d,_0x2f9fe9){var _0x484549=a59_0x33d8d2,_0x235358=arguments[_0x484549(0x1ca)],_0x407f87=_0x235358<0x3?_0xc6da01:_0x2f9fe9===null?_0x2f9fe9=Object[_0x484549(0x1de)](_0xc6da01,_0x13110d):_0x2f9fe9,_0x3cd9d8;if(typeof Reflect===_0x484549(0x1d7)&&typeof Reflect[_0x484549(0x1b9)]==='function')_0x407f87=Reflect[_0x484549(0x1b9)](_0x439041,_0xc6da01,_0x13110d,_0x2f9fe9);else{for(var _0x111323=_0x439041[_0x484549(0x1ca)]-0x1;_0x111323>=0x0;_0x111323--)if(_0x3cd9d8=_0x439041[_0x111323])_0x407f87=(_0x235358<0x3?_0x3cd9d8(_0x407f87):_0x235358>0x3?_0x3cd9d8(_0xc6da01,_0x13110d,_0x407f87):_0x3cd9d8(_0xc6da01,_0x13110d))||_0x407f87;}return _0x235358>0x3&&_0x407f87&&Object['defineProperty'](_0xc6da01,_0x13110d,_0x407f87),_0x407f87;},__metadata=this&&this['__metadata']||function(_0x4affcf,_0x4da0ca){var _0x31405e=a59_0x33d8d2;if(typeof Reflect===_0x31405e(0x1d7)&&typeof Reflect[_0x31405e(0x1d8)]===_0x31405e(0x1c4))return Reflect[_0x31405e(0x1d8)](_0x4affcf,_0x4da0ca);},__param=this&&this[a59_0x33d8d2(0x1cf)]||function(_0x34af25,_0xd8c1a1){return function(_0xb2b3d3,_0x5e68b7){_0xd8c1a1(_0xb2b3d3,_0x5e68b7,_0x34af25);};};function a59_0xf598(_0x1f927a,_0x5ae674){var _0x2dbe96=a59_0x2dbe();return a59_0xf598=function(_0xf5987f,_0x236721){_0xf5987f=_0xf5987f-0x1b8;var _0x19dc54=_0x2dbe96[_0xf5987f];return _0x19dc54;},a59_0xf598(_0x1f927a,_0x5ae674);}Object['defineProperty'](exports,a59_0x33d8d2(0x1dd),{'value':!![]}),exports['NotificationsService']=void 0x0;const common_1=require(a59_0x33d8d2(0x1ba)),mongoose_1=require(a59_0x33d8d2(0x1d2)),mongoose_2=require('mongoose'),notification_schema_1=require(a59_0x33d8d2(0x1dc));let NotificationsService=class NotificationsService{constructor(_0x37e9ed){this['notificationModel']=_0x37e9ed;}async[a59_0x33d8d2(0x1ce)](_0x263667,_0x386973,_0x6e7105,_0x440f83){var _0x1ace83=a59_0x33d8d2;const _0x51400d=new this[(_0x1ace83(0x1d1))]({'type':_0x263667,'message':_0x386973,'recipients':_0x6e7105,'location':_0x440f83[_0x1ace83(0x1d9)][_0x1ace83(0x1c0)]});return await _0x51400d[_0x1ace83(0x1da)]();}async[a59_0x33d8d2(0x1bd)](_0x16c46f,_0x370ab0){var _0x5bde30=a59_0x33d8d2;return await this['notificationModel'][_0x5bde30(0x1c9)]({'recipients':_0x16c46f,'location':_0x370ab0})[_0x5bde30(0x1be)]({'createdAt':-0x1});}async[a59_0x33d8d2(0x1cb)](_0x32d097){var _0x232655=a59_0x33d8d2;return await this[_0x232655(0x1d1)][_0x232655(0x1d6)](_0x32d097,{'isRead':!![]});}};exports[a59_0x33d8d2(0x1c7)]=NotificationsService,exports[a59_0x33d8d2(0x1c7)]=NotificationsService=__decorate([(0x0,common_1['Injectable'])(),__param(0x0,(0x0,mongoose_1[a59_0x33d8d2(0x1d5)])(notification_schema_1[a59_0x33d8d2(0x1d4)][a59_0x33d8d2(0x1db)])),__metadata(a59_0x33d8d2(0x1bf),[mongoose_2[a59_0x33d8d2(0x1bc)]])],NotificationsService);