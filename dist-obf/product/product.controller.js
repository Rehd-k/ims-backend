'use strict';const a62_0x31dae5=a62_0x3429;(function(_0xf25d77,_0x163837){const _0xdb1779=a62_0x3429,_0x13f6d4=_0xf25d77();while(!![]){try{const _0x5def48=-parseInt(_0xdb1779(0x192))/0x1*(-parseInt(_0xdb1779(0x19b))/0x2)+-parseInt(_0xdb1779(0x194))/0x3+parseInt(_0xdb1779(0x18f))/0x4+parseInt(_0xdb1779(0x198))/0x5+parseInt(_0xdb1779(0x18d))/0x6*(-parseInt(_0xdb1779(0x1af))/0x7)+-parseInt(_0xdb1779(0x1ae))/0x8+parseInt(_0xdb1779(0x191))/0x9*(parseInt(_0xdb1779(0x195))/0xa);if(_0x5def48===_0x163837)break;else _0x13f6d4['push'](_0x13f6d4['shift']());}catch(_0x58d8b8){_0x13f6d4['push'](_0x13f6d4['shift']());}}}(a62_0x32f2,0xdd697));function a62_0x3429(_0x35df49,_0x2f05d3){const _0x32f21e=a62_0x32f2();return a62_0x3429=function(_0x3429c1,_0x266ee1){_0x3429c1=_0x3429c1-0x18b;let _0x518408=_0x32f21e[_0x3429c1];return _0x518408;},a62_0x3429(_0x35df49,_0x2f05d3);}var __decorate=this&&this[a62_0x31dae5(0x1b7)]||function(_0x237132,_0x4134ca,_0x51c6e4,_0x51264b){const _0x19adf4=a62_0x31dae5,_0x5d1a62={'uJuvk':'object','LDBKE':function(_0x5cf53d,_0x2ac6eb){return _0x5cf53d>=_0x2ac6eb;},'FpSFJ':function(_0x4b9f33,_0xdfd4ed){return _0x4b9f33(_0xdfd4ed);},'WgefL':function(_0x9d3ead,_0x577898){return _0x9d3ead>_0x577898;}};var _0x227ceb=arguments['length'],_0x41a46a=_0x227ceb<0x3?_0x4134ca:_0x51264b===null?_0x51264b=Object['getOwnPropertyDescriptor'](_0x4134ca,_0x51c6e4):_0x51264b,_0x116231;if(typeof Reflect===_0x5d1a62['uJuvk']&&typeof Reflect['decorate']==='function')_0x41a46a=Reflect['decorate'](_0x237132,_0x4134ca,_0x51c6e4,_0x51264b);else{for(var _0x41d6e5=_0x237132['length']-0x1;_0x5d1a62['LDBKE'](_0x41d6e5,0x0);_0x41d6e5--)if(_0x116231=_0x237132[_0x41d6e5])_0x41a46a=(_0x227ceb<0x3?_0x5d1a62[_0x19adf4(0x193)](_0x116231,_0x41a46a):_0x5d1a62[_0x19adf4(0x1a3)](_0x227ceb,0x3)?_0x116231(_0x4134ca,_0x51c6e4,_0x41a46a):_0x116231(_0x4134ca,_0x51c6e4))||_0x41a46a;}return _0x227ceb>0x3&&_0x41a46a&&Object[_0x19adf4(0x1bf)](_0x4134ca,_0x51c6e4,_0x41a46a),_0x41a46a;},__metadata=this&&this[a62_0x31dae5(0x1bb)]||function(_0x4553dd,_0x1a84de){const _0x4c3638=a62_0x31dae5,_0x31cbef={'jjjGL':_0x4c3638(0x19c)};if(typeof Reflect===_0x31cbef['jjjGL']&&typeof Reflect['metadata']==='function')return Reflect['metadata'](_0x4553dd,_0x1a84de);},__param=this&&this[a62_0x31dae5(0x1a0)]||function(_0x59f40a,_0x404cad){return function(_0x30afce,_0x519ca8){_0x404cad(_0x30afce,_0x519ca8,_0x59f40a);};};Object['defineProperty'](exports,a62_0x31dae5(0x18b),{'value':!![]}),exports[a62_0x31dae5(0x1aa)]=void 0x0;const common_1=require('@nestjs/common'),common_2=require(a62_0x31dae5(0x1b3)),product_service_1=require('./product.service'),jwt_auth_guard_1=require(a62_0x31dae5(0x19d)),roles_guard_1=require(a62_0x31dae5(0x1a4)),enums_1=require(a62_0x31dae5(0x197)),roles_decorator_1=require('../helpers/role/roles.decorator'),query_dto_1=require('./query.dto'),mongoose_1=require('mongoose'),inventory_service_1=require(a62_0x31dae5(0x1ac));let ProductController=class ProductController{constructor(_0x23bd1f,_0x3098d5){this['productService']=_0x23bd1f,this['inventoryService']=_0x3098d5;}async[a62_0x31dae5(0x1b9)](_0x58ecba,_0x3f1809){const _0x5264b0=a62_0x31dae5;return this['productService'][_0x5264b0(0x1ad)](_0x58ecba,_0x3f1809);}async[a62_0x31dae5(0x19e)](_0x339442,_0x3858e4){const _0x1334e3=a62_0x31dae5,_0x4855a1=await this[_0x1334e3(0x1a8)]['findAll'](_0x339442,_0x3858e4);return _0x4855a1;}async['getDashboardData'](_0x4c1388,_0x53a810,_0x209339){const _0x431400=a62_0x31dae5;try{const _0x10b0be=await this['inventoryService'][_0x431400(0x1ab)](_0x4c1388,_0x53a810['startDate'],_0x53a810['endDate'],_0x209339);return _0x10b0be;}catch(_0x231219){throw new common_1['InternalServerErrorException'](_0x231219);}}async['getProductById'](_0xa4e96b){const _0x154413=a62_0x31dae5;return this[_0x154413(0x1a8)]['findOne'](_0xa4e96b);}async['updateProduct'](_0x9ab993,_0x3085ec){const _0x373d5a=a62_0x31dae5;return this[_0x373d5a(0x1a8)][_0x373d5a(0x19f)](_0x9ab993,_0x3085ec);}async['deleteProduct'](_0x32f957){const _0x1593ba=a62_0x31dae5;return this['productService'][_0x1593ba(0x190)](_0x32f957);}};function a62_0x32f2(){const _0xd2debb=['Manager','__metadata','updateProduct','Types','/findone/:id','defineProperty','__esModule','Roles','2242092bfnvHv','design:returntype','6993816TsmKIb','remove','18vasnFl','146ZMvbGk','FpSFJ','5429187PXILvv','8287630ttksIa','design:type','../helpers/enums','7094840OODScY','God','Req','8998qQmtLA','object','../auth/jwt-auth.guard','getAllProducts','update','__param','/update/:id','Role','WgefL','../helpers/role/roles.guard','Query','Admin','Post','productService','Get','ProductController','getDashboardData','./inventory.service','create','13152992SCBJac','21jTEnCL','Staff','Param','Body','@nestjs/common','Controller','deleteProduct','prototype','__decorate','design:paramtypes','createProduct'];a62_0x32f2=function(){return _0xd2debb;};return a62_0x32f2();}exports['ProductController']=ProductController,__decorate([(0x0,roles_decorator_1['Roles'])(enums_1[a62_0x31dae5(0x1a2)]['God'],enums_1['Role']['Admin'],enums_1['Role']['Manager']),(0x0,common_2[a62_0x31dae5(0x1a7)])(),__param(0x0,(0x0,common_2['Body'])()),__param(0x1,(0x0,common_1[a62_0x31dae5(0x19a)])()),__metadata('design:type',Function),__metadata(a62_0x31dae5(0x1b8),[Object,Object]),__metadata(a62_0x31dae5(0x18e),Promise)],ProductController['prototype'],a62_0x31dae5(0x1b9),null),__decorate([(0x0,roles_decorator_1[a62_0x31dae5(0x18c)])(enums_1['Role']['God'],enums_1['Role']['Admin'],enums_1[a62_0x31dae5(0x1a2)][a62_0x31dae5(0x1ba)],enums_1[a62_0x31dae5(0x1a2)][a62_0x31dae5(0x1b0)],enums_1['Role']['Cashier']),(0x0,common_2['Get'])(),__param(0x0,(0x0,common_1[a62_0x31dae5(0x1a5)])()),__param(0x1,(0x0,common_1['Req'])()),__metadata('design:type',Function),__metadata('design:paramtypes',[query_dto_1['QueryDto'],Object]),__metadata('design:returntype',Promise)],ProductController['prototype'],a62_0x31dae5(0x19e),null),__decorate([(0x0,roles_decorator_1[a62_0x31dae5(0x18c)])(enums_1['Role'][a62_0x31dae5(0x199)],enums_1['Role']['Admin'],enums_1[a62_0x31dae5(0x1a2)]['Manager']),(0x0,common_2[a62_0x31dae5(0x1a9)])('/dashboard/:id'),__param(0x0,(0x0,common_2['Param'])('id')),__param(0x1,(0x0,common_1[a62_0x31dae5(0x1a5)])()),__param(0x2,(0x0,common_1[a62_0x31dae5(0x19a)])()),__metadata('design:type',Function),__metadata(a62_0x31dae5(0x1b8),[String,query_dto_1['QueryDto'],Object]),__metadata(a62_0x31dae5(0x18e),Promise)],ProductController[a62_0x31dae5(0x1b6)],'getDashboardData',null),__decorate([(0x0,roles_decorator_1['Roles'])(enums_1[a62_0x31dae5(0x1a2)]['God'],enums_1[a62_0x31dae5(0x1a2)]['Admin'],enums_1[a62_0x31dae5(0x1a2)][a62_0x31dae5(0x1ba)]),(0x0,common_2['Get'])(a62_0x31dae5(0x1be)),__param(0x0,(0x0,common_2[a62_0x31dae5(0x1b1)])('id')),__metadata(a62_0x31dae5(0x196),Function),__metadata('design:paramtypes',[String]),__metadata('design:returntype',Promise)],ProductController[a62_0x31dae5(0x1b6)],'getProductById',null),__decorate([(0x0,roles_decorator_1['Roles'])(enums_1['Role'][a62_0x31dae5(0x199)],enums_1['Role'][a62_0x31dae5(0x1a6)],enums_1[a62_0x31dae5(0x1a2)]['Manager']),(0x0,common_1['Put'])(a62_0x31dae5(0x1a1)),__param(0x0,(0x0,common_2[a62_0x31dae5(0x1b1)])('id')),__param(0x1,(0x0,common_2[a62_0x31dae5(0x1b2)])()),__metadata('design:type',Function),__metadata('design:paramtypes',[mongoose_1[a62_0x31dae5(0x1bd)]['ObjectId'],Object]),__metadata(a62_0x31dae5(0x18e),Promise)],ProductController['prototype'],a62_0x31dae5(0x1bc),null),__decorate([(0x0,roles_decorator_1[a62_0x31dae5(0x18c)])(enums_1['Role'][a62_0x31dae5(0x199)],enums_1[a62_0x31dae5(0x1a2)]['Admin'],enums_1[a62_0x31dae5(0x1a2)]['Manager']),(0x0,common_1['Delete'])('/delete/:id'),__param(0x0,(0x0,common_2[a62_0x31dae5(0x1b1)])('id')),__metadata(a62_0x31dae5(0x196),Function),__metadata('design:paramtypes',[String]),__metadata('design:returntype',Promise)],ProductController['prototype'],a62_0x31dae5(0x1b5),null),exports['ProductController']=ProductController=__decorate([(0x0,common_1['UseGuards'])(jwt_auth_guard_1['JwtAuthGuard'],roles_guard_1['RolesGuard']),(0x0,common_1[a62_0x31dae5(0x1b4)])('products'),__metadata('design:paramtypes',[product_service_1['ProductService'],inventory_service_1['InventoryService']])],ProductController);